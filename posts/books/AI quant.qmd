---
title: "인공지능 투자가 퀀트"
author: "Siyun Min"
date: "2021-06-20"
categories: [Book, Quant, Investment]
---
# <인공지능 투자가 퀀트>

![](https://contents.kyobobook.co.kr/sih/fit-in/458x0/pdt/9788998599362.jpg)

> 인간의 직감이나 감정을 배제하고 오직 수학과 알고리즘만으로 투자하는 사람들, 바로 퀀트(Quant)다.
> 

> 이제 개인도 쉽게 금융 데이터에 접근할 수 있고 복잡한 수학 공식이나 고도의 프로그래밍 없이 집에서 쉽게 인공지능 투자를 할 수 있는 시대가 오고 있다. 당신도 퀀트가 될 수 있다.
> 

> 인공지능을 이용해 투자하는 사람들을 퀀트라 부른다. 퀀트는 모든 것을 숫자로 바꿔서 생각하는 사람이란 뜻을 가진다.
> 

> 퀀트는 발생 가능한 사건을 확률적으로 계산하고, 상황을 데이터와 숫자로 표현한다.
> 

> 투자 인공지능의 두뇌 역할을 하는 알고리즘은 퀀트에게 가장 중요한 부분이다.
> 

> 남이 만든 인공지능의 코드와 데이터를 읽고 설계도를 추출하는 작업은 쉽지 않다. 코드를 보더라도 그 수학적인 의미를 이해하기 어렵고, 최고의 속도가 필요한 퀀트 알고리즘은 대부분 복잡하게 최적화돼 있어서 이해하는 데 굉장히 많은 시간이 필요했다. 설령 설계도를 이해했다 하더라도 똑같이 복제하고 주어진 데이터에 맞게 변형한 다음 비슷한 결과물을 얻게 만드는 작업은 웬만한 해커도 쉽게 할 수 없는 일일 것이다.
> 

> 미세하게 유리한 확률로 승리하기 위해서는 결국 파산하지 않고 오랫동안 게임을 해야 했다.
> 

> 캘리 공식은 ‘최대 수익률은 정보의 확실성과 비례한다’는 이론이었다. 투자나 도박에 적용하면 게임에서 유리한 위치에 있을 때 얼마를 베팅해야 최적화된 수익을 얻는지 알려주는 마법의 공식이었다.캘리 공식은 ‘최대 수익률은 정보의 확실성과 비례한다’는 이론이었다. 투자나 도박에 적용하면 게임에서 유리한 위치에 있을 때 얼마를 베팅해야 최적화된 수익을 얻는지 알려주는 마법의 공식이었다.
> 

> 이미 60 대 40으로 굉장히 유리한 게임을 하는데도 베팅을 효율적으로 하지 못하면 이렇듯 파산에 이를 수 있는 것이다.
> 

> 섀넌이 제시한 캘리 공식에 따르면 게임에서 유리할수록, 그리고 배당률이 좋을수록 높은 비율로 베팅해야 최고의 수익을 올릴 수 있다.
> 

> 베팅 비율 = (배당 × 승리확률 − 패배확률) / 배당
> 

> 예측이 어느 정도 맞아 수익을 냈지만 자꾸 끊어지는 전선에 짜증이 난 소프는 캘리 공식의 베팅 비율보다 더 높게 베팅하기 시작했다. 몇 번의 거듭된 성공으로 베팅액을 2배, 3배 높이던 소프는 더욱 자신감이 높아져서 베팅액을 최대로 늘렸다. 그러나 시스템은 게임에서 유리한 지점에 데려다만 줄 뿐 100% 예측을 해주는 것은 아니었다. 그는 연속해서 3번 패배하게 됐고 하루 종일 번 돈의 대부분을 잃게 되었다.
> 

> 특히나 소프는 이번 라스베이거스 여행에서 많은 것을 깨달았다. 아무리 우위에 있는 상태여도 캘리 공식을 따르지 않고 무리하게 베팅하면 순식간에 파산할 수도 있는 것이었다. 이 경험은 소프가 후에 전설적인 투자자가 되는 밑거름이 된다.
> 

> 소프의 책 내용대로 시도한 사람은 많았지만 그의 이론을 체계적으로 사용한 사람은 그리 많지 않았다. 특히 사람들은 카드 카운팅에만 집중하였고 그보다 훨씬 중요한 베팅 개념인 캘리 공식은 그다지 중요하게 생각하지 않았다. 카드 카운팅으로 유리한 상황을 맞이한 사람들은 항상 베팅 금액을 크게 올리고 싶은 충동이 들었고 그로 인해 많은 이들이 돈을 잃었다.
> 

> 에드 소프식 베팅 알고리즘은 캘리 공식을 이용해 적절한 매수 비율을 알려준다.
> 

> 소프는 뉴스에서 얻은 정보로는 투자 우위를 얻을 수 없다는 교훈을 얻었다.
> 

> 도박에서 확실한 근거 없이 이길 거라고 믿는 것처럼 다수의 사람들이 워런트를 사면서 뚜렷한 이유도 없이 주가가 상승할 거라고 기대했다.
> 

> 승률이 50%도 되지 않는 워런트라는 게임은 해서는 안 되는 도박이다. 그러나 소프는 반대로 생각했다. 승률이 50%도 되지 않기 때문에 오히려 워런트를 팔면 되는 것이었다.
> 

> 어떤 시나리오에서도 큰 손해를 보지 않고 안정적인 이익을 내는 것이다. 소프는 어떤 상황에서도 크게 손해 보는 상황을 막는 울타리 전략 바로, 헤지(Hedge)를 처음 시도하게 된다.
> 

> <시장을 이겨라>는 주식으로 돈을 벌어야 한다는 당시의 관행과는 너무 다른 주장을 펼쳤기 때문에 처음엔 이슈가 되지 못했다. '왠 교수가 헛소리를 한다'며 많은 사람들이 무시하였다. 설령 자세히 읽어 봤다 한들 대부분의 사람들이 컴퓨터가 없어 따라 하기 힘들었다.
> 

> 한편 당시 주식 중개인이었던 리건은 <시장을 이겨라>를 읽고 크게 감명받았다. 그는 소프를 찾아가 자신이 자금책을 맡을 테니 함께 파트너가 되자고 제안했다. 그 후 소프는 워런 버핏의 조언으로 리건과 함께 컨버터블헤지어소시에이츠Convertible Hedge Associates라는 헤지펀드를 만들고 1998년까지 20년 넘게 25%가 넘는 수익률을 보여주게 된다.
> 

> 무엇보다도 그가 추구했던 것은 '켈리 공식과 정보 이론에서 배운, 리스크를 최소화하며 파산 위험이 있는 투자는 하지 않는다'였다.
> 

> "주식이 어디로 움직일지는 완전히 무작위이다. 그러나, 그들의 움직임 분포를 확률로 나타낸다면 거대한 장(Field)을 이루게 된다."
> 

> 그는 불확실성과 확률로 가득 채워진 금융이 물리학과 비슷하다는 점에 큰 매력을 느꼈다. 게다가 소프가 미지의 세계였던 워런트 가격 계산을 개척하며 큰 수익을 얻은 것에 감명을 받았다. 아무도 시도할 엄두조차 내지 못한 복잡한 상품인 워런트를 설명했다는 것을 보건대 다른 상품들의 가격 또한 계산 가능하며 더 나아가 이 모든 것을 설명할 수 있는 궁극의 이론도 만들어낼 수 있으리라 생각했다. 물리학에서 다양한 힘의 이론들이 결국 몇 가지 공식으로 전부 설명 가능한 것과 같은 아름다움을 만들 수 있을 것만 같았다.
> 

> '나도 소프처럼 아직까지 밝혀지지 않은 금융의 비밀을 해결하고 싶어. 워런트뿐만 아니라 모든 금융상품들을 설명할 수 있는 이론을 만들 수 있지 않을까?'
> 

> 블랙은 보험의 일종인 '옵션'을 타깃으로 잡았다.
> 

> 피셔 블랙은 옵션 연구를 하기 시작했다. 입자 물리학에서처럼 옵션의 구성 요소를 하나하나 쪼개기 시작했다. 옵션에서 가장 중요한 것은 기초 상품의 가격이다. 밀가루 옵션이면 밀가루 가격, 감자 옵션이면 감자 가격이 중요하다. 시간도 중요하다. 내일 만기인 옵션은 가치가 없다. 반대로 5년 후가지 보장해주는 옵션의 가격은 비쌌다. 보장 액수도 중요하다. 10달러를 보장해주는 옵션과 15달러를 보장해주는 옵션의 가격은 차이가 있었다.
> 

> 숄즈는 색다른 방법을 제안하였다. 옵션 가격을 계산하는 식을 한번에 만들려고 하지 말고, 지금까지의 구성재료들 간 관계식을 하나씩 밝혀보고, 이를 조금식 조금씩 합치면서 전체식을 만들어보자는 거였다. 분자 물리학에서 각 분자의 움직임을 먼저 정의하고 키우면 큰 흐름을 알아낼 수 있다는 방식과 비슷했다.
> 

> 그들은 먼저 각 재료들을 미분방정식으로 나타내고 합쳤다. 소프와 비슷하게 기초상품인 밀가루, 감자 가격의 움직임은 전부 무작위라고 가정한 뒤 브라운 운동을 이용하였다. 마침내 1971년, 어떤 경우에도 쓸 수 있는 옵션 가격 방정식을 만들어낸다. 현대 금융사에서 뉴턴 방정식이나 아인슈타인 상대성 이론에 비견되는 가장 위대한 발견, 바로 블랙-숄즈 방정식이 완성되는 순간이었다.
> 

> 블랙-숄즈 방정식은 어떤 종류의 옵션이라도 조건을 집어넣으면 가격을 알려주는 마법과도 같은 공식이었다. 블랙과 숄즈는 자신들의 공식을 논문으로 발표했다. 블랙-숄즈 방정식의 발견은 원자의 발견에 버금갈 정도로 엄청난 영향력을 미쳤다. 금융기관들은 더 이상 옵션을 터무니없이 비싸게 팔지 않아도 됐다. 가격대와 시세가 알려지자 사람들은 활발하게 옵션을 사고팔기 시작했다.
> 

> 블랙-숄즈 방정식은 가격뿐만 아니라 옵션에 포함돼 있는 구성 성분, 즉 재료들을 알려주었다.
> 

> 블랙-숄즈 방정식의 원리 자체는 공개됐지만 실제 시장에서는 그대로 적용하기 어려운 부분들이 많았다. 블랙-숄즈 방정식 자체가 비현실적인 가정을 많이 했기 때문이었다. 그러나 피셔 블랙은 이를 자유자재로 변형해 실제 시장에 적용시켰다. 이는 엄청난 무기가 되었다. 남들은 보지 못하는 물건의 가격을 자동으로 보여주는 마법의 유리구슬 같은 것을 가진 것이나 마찬가지였다.
> 

> 블랙은 유리구슬을 통해 저평가된 옵션은 사고 고평가된 옵션은 팔았다. 이는 에드 소프와 비슷한 방식이었지만 규모가 작은 워런트에 비해 파괴력이 훨씬 강했다.
> 

> 블랙-숄즈 방정식의 등장으로 사람들은 적절한 시세에서 가격대를 형성하게 되었고 결국 철광석, 농수산물 등을 주로 거래하던 시카고 상품거래소 옆에 옵션거래소를 열 수 있었다.
> 

> 옵션은 상품뿐만 아니라 주식에까지 영향력을 끼쳤다.
> 

> 골드만삭스에서 블랙은 이미 전설적인 인물이었다. 세계 금융 패러다임을 바꾼 그는 옵션에서 멈추지 않고 금융시장에 존재하는 가격이 불분명한 각종 파생상품들의 공식을 만들기 시작했다. 이들은 블랙-숄즈 방정식의 원리를 약간만 변형하면 전부 계산이 가능했다.
> 

> 블랙은 벨 연구소에서 분자 물리학을 연구하다 골드만삭스로 이직한 부하직원 이매뉴얼 더만Emanuel Derman과 함께 블랙-숄즈 방정식을 변형해서 채권 가격을 계산하는 방법도 만들었다. 이 또한 영향력이 커서 블랙의 수익과 명성은 드높아져만 갔다.
> 

> 블랙의 활약으로 월스트리트에는 ‘금융의 모든 상품들은 공식화될 수 있다’라는 강한 믿음이 생겼다. 사실 금융상품이 아무리 복잡하다 하더라도 시간과 가격이 주요소이기 때문에 블랙-숄즈 방정식은 날씨처럼 온도, 구름, 풍향, 기압 등 수많은 요인이 영향을 주는 모델보다는 훨씬 간단하고 정확하다 믿었다. 심지어 각종 옵션의 가격을 산출할 때 컴퓨터를 이용한 시뮬레이션으로 모든 시나리오의 확률을 도표로 보여줄 수 있었다.
> 

> 금융회사들은 이들에게 다양한 옵션을 팔면서 짭짤한 수익을 올렸고, 마침내 블랙-숄즈 방정식을 이용해 여러 가지 위험을 동시에 막아주는 종합 옵션인 포트폴리오 보험이라는 상품을 내놓았다. 포트폴리오 보험만 있으면 내가 가진 상품의 옵션을 하나하나 살 필요 없이 시장 전체에 대한 보장을 해주었다. 옵션을 사느라 많은 수고를 들였던 투자자에겐 혁명이었다.
> 

> “과연 인간의 행동 집합체인 금융시장이 근본적으로 분자의 움직임과 같을까?”
> 

> 그는 의문이 생겼다. 애초에 블랙-숄즈 방정식은 주식이나 상품 가격이 분자의 움직임, 즉 브라운 운동과 같다고 가정해서 계산한 공식이었다. 서울에 있는 담배 연기 분자가 10초 뒤에 뉴욕에 나타날 확률은 브라운 운동에 의하면 0%에 가깝다. 마찬가지로 브라운 운동에 따르면 10초 내에 시장 가치가 10% 떨어질 경우는 0%에 가깝다. 아직까지 그런 일은 없었지만 더만은 발생 가능성이 있다고 생각했다. 그러나 블랙을 포함한 어떠한 사람들도 이러한 문제를 크게 의식하고 있는 것 같지 않았다. 그도 그럴 것이 추락할 위험을 보험으로 상쇄시킨 상황에서 경제는 계속 발전해왔고 모델은 수년간 안정적이고 완벽해 보였기 때문이다.
> 

> 끝끝내 시장은 25% 추락하였다. 전 세계 돈의 1/4이 흔적도 없이 증발한 것이다. 단순히 금액으로 환산할 수 없는 충격이었다. 이전까지 한 번도 없던 일이었다. 사실 시장에는 여러 가지 거품과 불안감이 내재돼 있었지만 사람들은 애써 외면해왔던 것이다. 극도로 암울했던 이 월요일은 블랙 먼데이(Black Monday)라고 불린다.
> 

> 블랙-숄즈 방정식에 의하면 시장이 25% 하락할 확률은 우주가 150억 번 빅뱅이 발생해도 일어나기 힘든, 불가능한 사건이었다. 평소의 증권시장은 분자 운동처럼 질서정연했지만 사람들이 패닉상태에서 광기에 휩싸였을 때에는 전혀 다른 양상으로 작동한 것이다. 아무런 감정이 없는 분자들은 그렇지 않겠지만 이성을 잃은 시장 참여자들은 동시에 매도 주문을 내면서 공식화된 시스템이 이상을 일으켰다.
> 

> 골드만삭스와 피셔 블랙 또한 블랙 먼데이로 큰 타격을 입었다. 게다가 사람들은 블랙-숄즈 방정식과 통계적 예측에 의문을 품기 시작했다. 불가능한 사건이 실제로 발생했기에 당연한 일이었다.
> 

> 사람들은 통계상 일어날 확률이 제로에 가까운 상황에서도 어느 정도 보험료를 받기 시작했다. 블랙 먼데이에 대한 트라우마, 즉 ‘절대 발생하지 않을 것이라 믿는 일이 실제로 일어날 수도 있다’라는 두려움이 전 세계를 덮친 것이다.
> 

> 블랙은 자신이 존경하는 뉴턴의 말을 인용하며 이때를 회고하였다.
> 

> “나는 천체의 움직임을 계산할 수 있었지만 인간의 광기는 계산할 수 없었다.”
> 

> 비록 블랙 먼데이로 옵션시장이 많은 타격을 입었지만 블랙-숄즈의 위상이 죽은 것은 아니었다. 블랙 먼데이에서 회복된 시장은 여전히 옵션을 필요로 하였고, 블랙 먼데이를 교훈 삼아 좀 더 정교한 계산 방식이 등장했다.
> 

> 블랙 먼데이 이후로 옵션 가격에는 사람들의 불안감이 포함되었는데 이는 퀀트들에게 블랙 먼데이 이전보다 더 좋은 수익 기회였다. 그 전에는 공식에 정확히 맞는 가격으로 거래되는 경우가 많아서 수익 기회가 많지 않았기 때문이다.
> 

> 메리웨더는 두 노벨상 수상자에다가 미 연방준비은행의 부의장 데이비드 멀린스David Mullins까지 영입해서 1994년에 롱텀캐피털매니지먼트Long-term capital management, 속칭 LTCM이라는 헤지펀드를 세우게 된다.
> 

> 월스트리트 최고의 트레이더, 노벨상 수상자이자 물리학 출신 퀀트, 미 연방준비은행 부의장까지 금융계의 슈퍼스타들이 모인 헤지펀드는 단숨에 큰 화제가 되었다. 월스트리트의 대형 은행들과 투자자들은 앞 다투어 그들에게 돈을 맡기고 싶어 했다. 투자를 지나치게 많이 받은 탓에 LTCM은 47억 달러를 강제로 투자자들에게 돌려주기까지 했다. 그만큼 LTCM은 큰 인기였다.
> 

> 1998년 머튼과 숄즈가 노벨상을 받은 지 1년도 채 되지 않았고 피셔 블랙이 사망한지 3년이 되던 날 LTCM은 새로운 수익 기회를 찾고 있었다. 마침 한국을 비롯한 아시아의 국가들과 러시아가 IMF로 저평가되어 있었고 가격은 굉장히 떨어져 있었다. 특히 러시아 채권이 많이 떨어져 있다고 분석한 그들은 러시아 채권을 대량으로 매입하기 시작했다. 그들의 공식에 대입했을 때 러시아 거래는 승률 98%인 필승 베팅이었다. 그들은 수익을 좀 더 극대화하기 위해 몇백 배에 달하는 대출 거래를 추가하였다. 애당초 채권은 많이 움직이지 않고 LTCM의 위상은 엄청났기 때문에 은행들도 큰 걱정 없이 돈을 빌려주었다.
> 

> 에드 소프와 캘리 공식에 따르면 아무리 승률이 98%라도 베팅은 파산 위험을 최소화할 정도로만 걸어야 한다. 피셔 블랙은 블랙 먼데이를 겪으면서 증권시장은 물리학의 확률처럼 완전무결하지 않다는 것도 경험했다.
> 

> 학계에 있었던 머튼과 숄즈는 여전히 공식을 맹신하고 있었다. 게다가 4년간 승승장구하였으니 공식이 잘못될 것이라곤 상상하지 못한 것은 어찌 보면 당연한 일이었다. 러시아 거래가 행여나 자신의 뜻대로 되지 않더라도 채권 자체의 하락률이 적기 때문에 머튼과 숄즈는 크게 돈을 잃을 걱정은 하지 않았다.
> 

> 그러나 블랙 먼데이처럼 증권 시장에선 통계상 0%인 일도 일어나기 마련이다. 러시아의 사회 상황은 점점 악화되었고 결국 나라 전체가 모라토리엄, 즉 파산을 선언했다.
> 

> 러시아의 채권은 휴지조각이 되어버린 것이다. LTCM 및 LTCM과 엮여있던 은행들은 패닉에 빠졌다. LTCM이 거래한 규모는 자그마치 1조 2,500억 달러였다. 당시 미국의 전체 경제가 11조 달러였으니 어마어마한 규모였다. 정부는 황급히 긴급의회를 소집하고 LTCM으로 인해 수많은 은행들이 연쇄 파산하면서 금융 위기가 오는 것을 막기 위해 구제 금융을 투입했다. 심각한 사태는 막았지만 이로 인해 수십 개의 금융회사들이 파산했고 미국 재정은 치명적인 타격을 받았다.
> 

> 머튼과 숄즈는 명성에 상당한 타격을 받고 사람들은 퀀트들을 비난하기 시작했다. 시장은 물리가 아니었고, 그를 다루는 퀀트 또한 인간이었다. 탐욕에 눈이 먼 실수였던 것이다. LTCM 사태 이후 투자은행들은 더 이상 물리학자들이 제시하는 공식과 확률들을 그대로 믿지 않았다. 인간들이 사는 세상에는 지금까지 없던 일이 언제든지 갑자기 발생할 수 있었다. 그렇게 월스트리트로 온 물리학자들의 전성기가 저물어가고 있었다.
> 

> 데이비드 쇼는 자본금을 모아 1988년 자신의 이름을 딴 헤지펀드 D.E Shaw를 런칭하였다. 그는 뱀버거의 페어 트레이딩 전략을 발전시켜서 한 쌍의 주식뿐만 아니라 5개, 10개, 20개 등의 묶음의 주식 안에서 서로 간의 영향을 분석하고 이들 묶음 안에서 통계적 틈이 발생하면 재빠르게 거래해 수익을 내는 방식을 사용하였다.
> 

> 데이비드 쇼가 뽑은 유명한 퀀트로는 현재 아마존의 CEO인 제프 베조스Jeffrey Preston Bezos가 있다.
> 

> 데이비드 쇼는 큰 틈을 찾기보다는 작은 틈을 조합하는 방식을 선호했다. 고도의 컴퓨터 시스템을 이용해 다양한 틈을 조합하여 다른 사람들은 수수료 때문에 수익이 나지 않을 만한 상황도 모두 수익 기회로 바꾸었다.
> 

> 데이비드 쇼는 2015년에 약 1조에 가까운 연봉을 받았고 디이쇼는 현재까지도 평균 22%의 수익, 40조의 자금을 운용하는 강력하고 거대한 퀀트 헤지펀드로 남아 있다.
> 

> 컴퓨터 시스템을 이용한 금융시장 분석이 유행하기 시작하자 데이터 통계 분석을 은행이나 연금회사에 제공하는 첨단회사들이 생겨났다. 이들은 회사의 이익이나 매출, 부채, 직원 수 등을 분석해 이용하기 쉬운 앱으로 만든 다음 고객사에게 제공하였다.
> 

> 1980년대 중후반 이처럼 수학적 분석을 제공하는 회사 중 선구자는 캘리포니아의 BARRA였다. 버클리대학의 교수였던 바 로젠버그Barr Rosenberg가 1974년에 설립한 이 회사는 '주식의 움직임은 분명 설명 가능할 것'이라는 믿음에서 비롯되었다. 물론 1970년대까지만 해도 이러한 분석은 그다지 힘을 얻지 못했다. 당시 주식시장은 이미 효율적이어서 움직임을 예측하는 일은 불가능하고 완전히 랜덤이라는 이론이 득세했기 때문이다. 움직임을 예측하기보다 적정 가격을 책정하는 블랙-숄즈 이론이 훨씬 더 유행하고 있던 시기였다.
> 

> 1980년대 중반부터 뱀버거의 통계적 차익거래가 유행하면서 시장의 틈을 알아내기만 하면 짧은 움직임을 예측할 수 있다는 사실이 퍼지기 시작했다. 처음에는 이 틈을 알아내기 위해 두 쌍의 주식을 묶어 서로의 관계를 살펴보았다. 그러다가 쇼 박사처럼 여러개의 주식을 묶어서 관계를 보는 방법까지 발달한 것이다.
> 

> 바 로젠버그는 조금 다르게 접근하기로 했다. 그는 모든 움직임엔 원인이 있다고 믿었다. 오늘 월마트 주식이 5% 상승했다면 여러 가지 원인이 복합적으로 작용했기 때문일 것이었다. 우연이란 것은 없다. 그는 지난 과거 데이터를 기반으로 주식이 어떤 요인에 영향을 받는지, 얼마나 민감하게 반응하는지 체크하기 시작했다.
> 

> 멀러는 이러한 요인에 따른 움직임을 위험 관리에 사용하지 않고 통계적 차익거래 방식과 합치면 큰돈을 벌 수 있을 것이라고 확신했다. 뱀버거나 쇼 박사의 통계적 차익거래 방식은 다른 주식과의 관계에서 틈을 찾았다. 그러나 멀러는 다른 주식과의 관계만을 보는 것이 아니라 좀 더 커다란 영향, 즉 요인들을 분석해서 통계적으로 벗어난 틈이 보일 때 거래하는 방식을 고안해냈다.
> 

> 처음엔 아무것도 작동하지 않았다. 이론적으로는 굉장했지만 현실 거래는 혹독하였다. 요인 분석을 하는 속도가 너무 느려서 거래하려고 하면 시장의 상황이 이미 변한 경우가 많았다. 게다가 거래 비용이 너무 커서 수익은 1% 낼 수 있는데 수수료가 2%라 오히려 손해일 때도 있었다. 설사 수익을 내더라도 시스템 곳곳에서 오류가 발생해 다시 손실을 내곤 하였다. PDT는 1년이 지나도록 제대로 된 수익조차 내지 못했다.
> 

> 한번은 마이더스의 계산 결과를 무시하고 즉흥적으로 거래했다가 큰 돈을 잃은 뒤로 아무리 계산 결과가 마음에 들지 않더라도 그대로 따르게 되었다. 처음에는 이상하게 보여도 결국엔 옳은 경우가 많았다.
> 

> APT의 사례에서 교훈을 얻어 절대 무리하게 거래하지 않았고 즉흥적인 결정은 자제하였다.
> 

> 다변인 모델(Multi-factor model), 혹은 팩터 모델이라고 부르는 방식은 자산 관리에서 많이 쓰이는 방식이다. 세가지 요인을 사용하는 파마-프렌치의 3 팩터 모델(Fama-french 3 factor model)이 가장 유명하다.
> 

> 현재 주가에 영향을 주는 여러 가지 위험 요인(Risk factor)들을 데이터 분석을 통해 알아내고 이 위험 요인 분석에서 통계적으로 벗어났을 경우 알파로 간주하고 수익을 내는 구조이다.
> 

> 1990년대에 들어서 시장이 완벽하게 효율적이라는 가설이 깨지고 여러 가지 알고리즘으로 큰 수익을 내는 퀀트들이 속속들이 등장하자 다양한 과학자들이 금융시장에 뛰어들기 시작했다. 개인용 컴퓨터가 등장하면서 집에서 여러 가지 데이터 분석을 할 수 있게 되었고 확신이 든 사람들이 투자에 뛰어드는 것이었다. 물리학자, 전기공학도, 심지어 방위산업체에서 일하던 암호해독가들까지 금융시장에서 큰돈을 벌기 위해 월스트리트로 몰려들었다. 각자 자신이 가진 방식과 지식으로 시장에 생긴 알파를 찾아내 큰돈을 벌었다.
> 

> 하버드 출신 컴퓨터 천재 켄 그리핀Ken Griffin은 에드 소프의 도움을 받아 시카고에 거대 헤지펀드인 시타델을 세웠다.
> 

> 그는 대학시절 자신의 기숙사에 안테나를 세워 실시간 주가를 받는 시스템을 만들고 가격의 틈이 생겼을 때 거래하는 방식으로 큰돈을 벌었다. 거기서 멈추지 않고 만 19살 때 월스트리트의 여러 가지 은행 고위층들을 찾아다니면서 투자를 요청했고 결국 1백만 달러의 투자 자산으로 헤지펀드를 세우게 된 것이다. 시타델은 첫 해에 70%의 수익을 얻고 세계 최고의 헤지펀드가 된다.
> 

> 유펜와튼스쿨에서 재무와 컴퓨터 공학을 공부한 클리프 에스네스Cliff Asnesssms 28살이었던 1994년, 골드만삭스 퀀트 그룹에 입사하였다. 피셔 블랙과 마이런 숄즈에게서 여러 가지 이론을 배운 에스네스는 1998년 자신의 헤지펀드인 AQR을 세운다. 그 또한 자신의 통계적 차익거래 방식으로 많은 수익을 내고 현재 70조 가량으로 세게에서 가장 큰 자산을 운용하는 헤지펀드로 성장했다.
> 

> 무엇보다도 가장 특이하고 베일에 싸여 있는 퀀트는 제임스 사이먼스James Simons다.
> 

> 금융시장에서 알파를 찾는 전략들이 유행하기 시작하자 그는 자신의 특기인 패턴 인식을 이용한 투자를 시도해보기 위해 1978년 르네상스테크놀로지라는 헤지펀드를 설립한다.
> 

> 사이먼스는 기존의 방식처럼 주식 쌍을 찾거나 멀러처럼 요인 분석을 하기보다는 자신의 특기인 패턴 인식을 이용해서 주기적으로 일어나는 데이터 패턴을 찾아내기 시작했다. 신호 처리와 음성 인식에서 주로 사용하는 인공지능 기술을 적극 도입해 잡음을 제거하고 진짜 패턴을 찾아내려고 노력하였다. 신호 처리와 전자통신 및 음성 인식 엔지니어를 대거 고용하기도 했다. 정장을 입고 분주히 움직이는 월스트리트 맨들 대신에 구부정한 노인들이 앉아서 연구하는 광경이 헤지펀드보다는 대학에 가까워서 르네상스 캠퍼스라 불렸다.
> 

> 주식시장은 길게 보면 유진 파마의 이론처럼 효율적이지만 짧게 보면 대부분 패턴이 존재했다
> 

> 2000년대 초가 되자 이들을 모방해 시장의 틈을 찾으려는 헤지펀드들이 우후죽순처럼 생겨났다. 뱀버거가 시장의 틈을 찾으려던 시도는 PDT, 시타델, AQR, 디이쇼, 르네상스, 투시그마 등도 뛰어들어 ‘누가 먼저 알파를 발견하는가’의 싸움으로 번지고 있었다. 이들 모두는 현재 전 세계 TOP 10에 드는 거대한 헤지펀드로 성장하였고, 퀀트의 명성은 하늘을 찌르게 된다.
> 

> 퀀트전국시대가 온 것이다.
> 

> 무조건 데이터가 많다고 해서 학습이 잘 되는 것은 아니다
> 

> 시카고는 미국에서 뉴욕 다음으로 거대한 금융의 중심지이지만 월스트리트와는 분위기가 사뭇 다르다. 월스트리트는 투자자들이 중심이 되어 금융을 이끌어나간다면 시카고에서는 무역상인들, 즉 트레이더들이 중심이 돼 금융 산업을 이끌고 있다.
> 

> 트레이더는 물건을 팔아야 하는 사람으로부터 물건을 산 다음, 필요한 사람에게 물건을 팔면서 차액을 남기는 사람이다. 수출입업자, 중고차 딜러, 금은방 주인, 농수산 유통업자, 편의점 주인 모두 트레이더의 일종이라 볼 수 있다.
> 

> 마켓 메이커가 없던 과거에는 주식을 사기가 쉽지 않았다. 애플 주식 20주를 사기 위해서는 파는 사람을 찾아다녀야 했고, 파는 사람이 정확히 20주를 팔길 원해야 했다. 만약 판매자가 15주만 팔길 원한다면 5주만 파는 사람을 다시 찾아야 했다. 급하게 사려면 가격을 높여야 했고 대부분 전문 중개인이 대행해 매매하여 수수료가 비쌌다.
> 

> 물론 마켓 메이커가 무작정 쉽게 돈을 벌 수 있는 것은 아니었다. 트레이더가 ‘사는 거래’와 ‘파는 거래’를 균형 있게 성사시키면 돈을 벌지만, 한쪽 거래에만 치중돼 성사된다면 재고가 쌓이게 된다
> 

> 시카고 핏 트레이더들 최고의 덕목은 침착함이다. 신입을 뽑을 때에도 돈을 많이 버는 것도 중요하지만 얼마나 침착한지를 본다. 수많은 트레이더들이 눈앞에서 수천 달러가 날아가는 모습을 견디지 못하고 과격하게 변하거나 이성적인 판단을 하지 못하는 경우가 많았다. 본전 생각에 쉽사리 청산하지 못하다가 두세 배씩 잃는 경우도 많았다.
> 

> 고수 트레이더들은 단기적 수요와 공급 변화로 움직이는 시장을 꿰뚫고 있었다. 이들은 효율적 시장 가설 따위는 믿지 않았다. 사람들이 패닉하거나 갑자기 수요 공급이 무너지면 가격은 얼마든지 한 방향으로 움직였다.
> 

> 가격 변동이 심하지 않을 때는 매일 안정적으로 수천 수만 달러를 벌었지만, 시장이 요동치는 하루 때문에 몇십만 달러를 날려서 한 달 동안 번 것을 한번에 날리기도 하였다.
> 

> 아무리 침착한 트레이더라도 인간이기에 실수를 하기 마련이었다. 큰돈이 오가는 상황에서 패닉이 오면 실수를 했고, 오타를 내는 식의 실수로 손해를 보곤 하였다. 이를 지켜보던 엔지니어는 트레이더가 주로 판단하는 로직들을 프로그램화시키기 시작했다.
> 

> 상대 알고리즘과 거래 움직임을 파악하는 알고 트레이더라는 직업도 새롭게 생겨났다. 퀀트의 일종이긴 하지만 인공지능 알고리즘을 이용해서 투자 전략을 짜는 기존의 퀀트와 조금 다른 사람이었다. 이들은 거래 주문을 보냈을 때 시장과 상대 알고리즘의 반응을 철저히 분석해서 이에 적극적으로 반응하는 알고리즘을 만드는 전문가였다
> 

> 마켓 메이킹 전략은 매수 주문과 매도 주문을 동시에 내서 그 가격 차이를 얻는 전략이다.
> 

> 실제 시장에서는 상당히 복잡하다. 일반적으로 매수나 매도가 균형적으로 성사되지 않고 한 쪽만 체결되는 경우가 많기 때문이다. 마켓 메이커는 이것이 잠시 시장 상황에 의해 나타나는 것인지 가격이 한 방향으로 움직이기 때문인지 알기 어렵다. 그러므로 최대한 재고를 적게 가져가기 위해서 가격을 조정해줘야 한다.
> 

> 알고 트레이더들은 시장미시구조에 굉장히 탁월했다. 시장미시구조는 가격이 어떻게 형성되고 거래나 주문을 했을 때 시장이 어떤 충격을 받고 어떤 식으로 움직이는지를 연구하는 학문이다.
> 

> 시장이 고도화되고 전산화되면서 각 주문이 어떤 영향을 일으키는지, 연쇄적으로 반응해서 가격이 어떤 식으로 움직이는지 궁금해 하기 시작했다. 이런 부분을 이론으로 정립하기 시작한 것이 시장미시구조론이다.
> 

> 그렇기 때문에 급하게 팔면 싸게 팔 수밖에 없는 것이다. 게다가 이렇게 팔면서 수많은 Bid가 사라지기 때문에 가격이 떨어지게 된다. 이것을 시장 충격이라고 한다.
> 

> 물론 복잡한 수식과 이론도 많지만 꼭 그런 것 없이도 시장미시구조를 분석할 수 있다. 쉬운 개념으로 호가의 치우친 정도로 가격의 움직임을 예측할 수 있다.
> 

> 시장미시구조를 연구하다 보면 다양한 패턴이 존재함을 알 수 있다.
> 

> 이 패턴을 보다 보면 다른 사람들이 어떤 거래를 하고 싶어 하는지 그 의도까지 발견해낼 수 있다. 거대한 거래를 해야 하는 헤지펀드나 연기금 거래도 발견할 수 있고, 이들 때문에 가격이 잠시 어디로 움직일지도 예측할 수 있다.
> 

> 1998년 LTCM 사태, 2002년 닷컴 버블, 2008년 서브프라임 사태와 같은 금융 위기 때는 거의 모든 종류의 금융회사들이 고통 받았다. 주식, 채권, 부동산 할 것 없이 수익률이 바닥을 쳤다. 손해를 보지 않으면 대단한 행운이었다. 그러나 트레이딩 회사의 알고 트레이더들의 상황은 달랐다. 시장이 패닉하면서 사려는 사람과 팔려는 사람 모두 급증하였고 거래량의 증가로 양방향 거래가 쉽게 성사되어 알고 트레이더들은 큰돈을 벌게 되었다.
> 

> 이렇게 숨기려는 알고 트레이더와 찾으려는 알고 트레이더들의 치열한 경쟁이 시작되었다. 이들은 남들보다 정보의 우위를 가지고 다양한 전략을 구사하기 위해서 지연 시간을 극도로 낮추고 속도와 빈도를 엄청나게 높였다.
> 

> 이들을 사람들은 초단타매매 혹은 고빈도 매매자(High Frequency Trader; HFT)라고 불렀다.
> 

> 투자자 측에 있던 알고 트레이더들은 시장미시구조 상태를 파악해서 유연하게 대처하는 실행 차이 모델(Implementation Shortfall) 알고리즘을 개발해 거래하기 시작했다. 이 방법은 미시구조를 자세히 분석해 현재 거래를 했을 때와 하지 않았을 때의 확률상 거래 비용 차이를 계산하고 최선이라 생각될 때 거래하는 알고리즘이다. 이러한 차이를 계산하는 역량에서 알고 트레이더의 실력 차이가 두드러지기 시작했다.
> 

> 거기에 더 나아가 수익이 줄어드는 것을 보다 못한 일부 알고 트레이더들은 허위 매물을 올려서 미끼로 다른 사람의 거래를 파악한 뒤에 빠른 회선으로 재빠르게 취소하고 파악한 거래 정보로 수익을 얻는 불법적인 선행 매매를 하기 시작한다. 그리고 마이클 루이스의 책 ⟪플래시 보이즈⟫로 이러한 알고 트레이더의 존재들이 세상에 알려졌다.
> 

> 초단타 트레이더였던 피터 코박Peter Kovac은 마이클 루이스의 책을 반박하는 내용인 ⟪플래시 보이즈: 그들은 빠르지 않다⟫를 출간했다. 이 책에 따르면 초단타매매 전체가 불법인 것마냥 매도하기 위해서 루이스는 다양한 통계를 조작하고 숨겼다고 말했다. 게다가 초단타매매가 개인 투자자들에게 긍정적인 영향을 미치는 불균형의 빠른 안정화나 1만분의 1이 된 수수료 같은 것들은 언급하지 않았다고 비판했다.
> 

> 이들은 서로의 방식대로 작동하는 인공지능을 가지고 시장에서 돈을 벌기 위해 전쟁을 하기 시작했다.
> 

> 이렇게 금융시장은 알고리즘 전쟁의 시대로 돌입했다.
> 

> “누구나 엄청나게 큰돈을 바라고 이 바닥에 뛰어듭니다. 제2의 사이먼스가 되길 원하죠. 그러나 그 마음가짐만으로는 오래 살아남기가 어렵습니다. 퀀트는 투자가도, 금융맨도 아닙니다. 과학자면서 탐험가에 가깝습니다. 끊임없이 탐구정신을 가지고 새로운 이론을 찾아내야 합니다. 퍼즐을 보면 풀고 싶고 현상을 보면 이론을 찾아내고 싶어 하는 과학자 정신이 있어야 하지요. 그 과정에서 돈을 벌지 못할 수도 있습니다. 그럼에도 불구하고 데이터와 시장의 오묘함을 풀어내는 것이 즐겁다면 당신은 자격이 있는 것입니다.”
> 

> “과학자는 사람을 살리는 심폐 소생기를 만들 수도 있고, 사람을 죽이는 핵무기를 만들 수도 있지요. 퀀트도 마찬가지입니다. 당신이 만든 투자 인공지능이 시장을 해칠 수도 있고 시장의 안정화에 기여할 수도 있습니다. 부디 시장을 살리는 퀀트가 되기를.”
> 

> 널리 알려진 알고리즘뿐만 아니라 여러 방면으로 혼합하고 수정해서 독자적인 방식을 구축하였다. 퀀트 트레이더들은 제2의 사이먼스나 쇼박사가 되기 위해 끊임없이 통계적 틈을 찾는 방법을 새로이 연구하고 패턴을 발굴해냈다.
> 

> 퀀트의 역사를 보면 언제나 퀀트 개발자는 보조에 가까운 역할이었다. 피터 멀러나 데이비드 쇼 모두 개발자로서 보조 역할을 하다가 결국 직접 알고리즘을 만드는 것에 뛰어들었다. 그러나 초고속 알고리즘의 시대가 오면서 사로지 같은 고속 시스템 엔지니어가 퀀트의 중심이 되는 시대가 온 것이다.
> 

> 사실 어느 분야나 그렇지만 퀀트가 되어서 큰돈을 벌려면 자신이 직접 만든 알고리즘이 필요하다.
> 

> 2012년 여름, 월스트리트를 크게 강타한 사건. 바로 나이트 캐피탈 사태다. 나이트 캐피탈은 뉴욕증권가에서도 손에 꼽히는 증권사로서 한때 미국 주식 거래량의 13%까지 차지할 정도로 거대하였다. 다양한 알고리즘 트레이딩 기술을 가지고 있어서 나도 지원한 적이 있고, 우리 팀의 강력한 경쟁업체 중 하나였다.
> 

> 그날 아침도 평범하게 커피를 들고서 출근했는데 모두가 한데 모여 TV 뉴스를 심각한 얼굴로 보고 있었다. 사람들 틈으로 보이는 TV 화면에 ‘속보’라는 글자가 눈에 띄었다.
> 

> 속보, 나이트 캐피탈, 시스템 오류로 4억 달러 넘게 손실!
> 

> 한 프로그래머의 치명적인 버그로 45분 만에 4,500억의 손실을 입은 것이다. 1분에 100억씩 증발했다. 증권 업계는 패닉에 빠졌다. 같은 퀀트 트레이딩을 하는 우리 팀에겐 더욱 와닿는 사건이었다. 우리 팀에게 직접적인 피해는 없었지만 그들의 얼굴에서 두려움과 긴장감이 포착되었다. 내가 만든 프로그램이 버그를 일으키는 장면을 상상하니 무거운 책임감이 느껴졌다.
> 

> 나이트 캐피탈은 결국 부도 직전이 되어서 당대 최고의 초단타회사인 GETCO에게 인수 당하고 회사 이름을 KCG로 바꾸었다. 단 한 명의 프로그래머 실수가 가져온 결과였다.
> 

> 사실 거래 알고리즘이나 시스템은 민감한 부분이기 때문에 철저하게 검증한다. 테스트 레이어도 두세 겹이 있고, 누군가가 항상 모니터링하고 있으며 이상 징후가 보이면 즉각 대응하도록 되어 있다. 버그라는 것은 어쩔 수 없이 존재하기 때문에 대처나 백업 시스템을 준비하는 것을 더 중요시하였다.
> 

> 나도 거래 알고리즘에 관련한 프로그래밍을 할 때에는 언제나 조심 또 조심하며 테스팅했다.
> 

> 하지만 나의 실수는 의외의 곳에서 발생했다.
> 

> 나의 잘못된 엔터 한 번에 2만 달러가 순식간에 날아갔다. 2만 달러가 없어지는데 걸린 시간은 30초가 채 되지 않았다. 얼마나 두렵고 걱정되었는지 고개를 들 수가 없었다. 곧 해고겠구나.
> 

> “팻핑거(FatFinger). 이렇게 오타를 내서 큰돈을 잃는 것을 뜻해.”
> 

> 브라이언이 설명했다. 말 그대로 뚱뚱하고 둔한 손가락이란 뜻인데, 원래 눌러야 할 키를 잘못 눌렀다는 것이다.
> 

> 심지어 이런 뚱뚱하고 둔한 손가락으로 전 재산을 잃거나 회사 전체가 부도난 경우도 있다. 나이트 캐피탈이 바로 그런 예이다.
> 

> 나이트 캐피탈 외에도 2006년에는 미즈호 증권의 한 직원이 제이콤이라는 회사 주식을 63만 엔에 1주를 팔려는 것을 1엔에 63만 주를 팔도록 해 1조원에 가까운 손해를 보고 부도 직전까지 갔다고 한다.
> 

> 2013년에는 국내 한맥 증권의 직원이 옵션 계산 프로그램에 숫자 하나를 잘못 넣어서 순식간에 500억 손해를 내고 끝내 파산하였다
> 

> “걱정 마. 누구나 한 번씩 겪는 일이야. 다만 두 번은 용납 안 되는 게 이 업계의 룰이지. 이해는 하지만 실수가 전부 돈에 연결돼있으니 조심하는 게 좋을 거라고.”
> 

> 나는 마이클의 당부를 새겨 들었다. 초고속 알고리즘인 만큼 실수 한 번의 크기는 어마어마하다. 언제나 조심해야 할 것이다. 마이클은 우리가 사람인 이상 실수를 하기 마련이기 때문에 최대한 자기 자신이 실수할 상황을 막아주는 안전 장치를 두세 개 해놓으라고 조언해주었다. 프로그램상으로도 두세 번씩 체크하도록 하고 경고 창이 뜨게 만들도록 권장하였다. 나는 지금도 이때의 기억을 되살리며 알고리즘을 구동할 때 세 번 이상 꼼꼼히 확인한다.
> 

> 인턴십 활동에 대한 보고였지만, 실제로는 영업 프레젠테이션에 가까웠다. 내가 한 프로젝트들의 수익성을 열심히 알리고 정식 퀀트로 뽑아달라는 애원에 가까운 보고였다. 인사 권한이 있는 사람들의 눈에 그다지 효용가치가 없어 보인다면 정식 채용도 물 건너갈 것이기 때문이다.
> 

> 퀀트 트레이더의 경쟁력은 역시 수익을 직접 내는 인공지능의 존재라는 것을 뼈저리게 깨달았다.
> 

> 시장의 틈을 이용해 거래하는 인공지능들을 테스트하기 위해선 모의시장과 시뮬레이션 시스템은 필수다. 그리고 이 시뮬레이션 시스템이 얼마나 정교하며 현실과 비슷한지에 따라 인공지능의 강력함이 결정된다. 엉성한 시뮬레이션으로 만든 인공지능은 실전에서 생각지도 못한 상황 때문에 계속해서 손실을 보기 때문이다.
> 

> 퀀트 트레이딩이 진짜 시작되는 곳은 프로덕션이다. 시뮬레이션이 제아무리 정교하다 하더라도 실제 시장과는 차원이 다르다. 나의 거래는 나비효과가 되어 다른 사람들에게 영향을 끼칠 수도 있다. 또한 다른 사람들이 내 거래를 보고 반응해 수익률에 악영향을 줄 수도 있는 것이다. 과거와 똑같이 흘러가라는 보장도 없다.
> 

> 수익률 자체가 크게 요동치지 않고 안정적인 펀드(알고리즘)일수록 적은 위험으로 고수익을 얻는 것이다. 그러나 이 샤프 지수도 항상 옳은 평가 방법인 것은 아니다.
> 

> 피터에 따르면, 항상 패턴을 찾아도 욕심은 적당히 부려야 한다고 하였다. 기관의 매수 타이밍과 동시에 너무 크게 매수를 하다 보면 그들도 자신의 알고리즘이 노출된 것을 깨닫고 바로 거래 타이밍을 바꿔버린다는 것이다.
> 

> "거래 경험 없이 아이디어만으론 아무 의미 없어."
> 

> 마켓 메이킹 전략은 결국 시장점유율을 높이는 것이 수익을 높이는 방법이다. 그러나 시장점유율을 올리는 것은 쉬운 일이 아니다. 블랙-숄즈 방정식을 이용해서 옵션 가격을 대략적으로 계산한 다음 현재 시장 상황과 자신만의 예측 노하우로 나온 가격을 시장에 제출해야 한다. 만약 다른 사람보다 비싼 값에 제출한다면 거래가 성사되지 않을 것이다. 또한 지나치게 싼 값에 올렸다가 가격 변동으로 인한 큰 손해를 입는다면 거래하지 않은 것만 못하게 된다. 같은 가격으로 제출하더라도 속도가 더 빠른 알고리즘이 거래에 성사되기 때문에 속도 또한 중요하다.
> 

> 다른 알고리즘보다 좋은 시장점유율을 보이려면 결국 다른 회사들의 알고리즘을 어느 정도 파악할 수밖에 없다. 이를 위해서 데이터를 분석하고 그들보다 빠르게, 그들보다 좋은 가격에 거래를 성사시켜야 한다.
> 

> 실제로 미시구조 전문가 퀀트 혹은 알고 트레이더라 불리는 시앙 같은 사람들은 ‘다른 사람의 알고리즘’이나 이미 정보를 가지고 있는 ‘정보 기반 거래자’를 파악하는 데 특출나다. 거래 내역을 보고 통계적 이상징후가 보이면 이는 다른 알고리즘이거나 정보 기반 거래자일 확률이 높다 판단하고 이들의 패턴을 파악해 역으로 공격했다. 이들보다 빠르게 거래하면 알고리즘 특성상 무조건 거래를 하게 되고 반사 이익을 얻게 되는 것이다.
> 

> 점유율을 높이기 위한 목적으로 서로의 알고리즘을 알아내고자 열심히 로그를 분석한다. 마치 상대가 누군지 모르는 채로 포커를 하는 기분이었다. 최대한 서로의 알고리즘이 들키지 않도록 거래를 분산시키고 은밀하게 시도한다. 몇 년 전만 해도 이런 시도는 하지 않았었다. 그러나 시장이 포화상태에 이르렀다. 옵션 거래량은 그대로인데 상인이 너무 많이 생긴 것이다. 시대는 점점 변하고 있었다. 에드 소프나 피터 멀러처럼 단순히 틈을 찾으면 이길 수 있는 시대는 지났다. 다른 알고리즘의 행동까지 알아내야 겨우 이길 수 있게 되었다.
> 

> 아이디어 자체는 논문이나 책으로 많이 알려져 있지만 각 시장별로 데이터를 어떻게 처리하는지, 어떤 속성을 가지고 있는지, 어떤 전략과 어떤 세팅이 잘 들어맞는지 등은 경험과 실력이 없으면 축적되기 힘든 자산이었다. 이를 구현한 작품이 바로 인공지능이자 알고리즘의 코드다. 그러나 이 코드는 모든 노하우를 구현한 것뿐이므로 코드만으로는 어떤 철학을 갖고 움직이는지 알 수 없다. 어떤 수식과 데이터를 기반으로 하는지 자세히 설명하는 설계도를 가지고 있어야만 진정으로 이 알고리즘을 완벽하게 복제할 수 있는 것이다.
> 

> 설령 굉장한 퀀트라고 해도 자신이 구상한 설계와 코드 외에는 잘 모르는 경우가 많다. 결국 알고리즘의 동작을 보고 그 내부의 동작을 유추하는 것은 굉장한 경험이 동반되어야만 할 수 있는 일이었다.
> 

> 예를 들어 승률이 51%인 퀀트 투자 전략이 있는데 4번 연속 손실을 입었다고 해서 전략을 폐기하면 영영 그 우위를 실현할 수 없게 된다. 이 때문에 모델과 분석 방법, 알고리즘이 널리 알려진다 하더라도 모두가 같은 수익을 얻지는 못한다.
> 

> 경쟁이 심화되고 장비들이 고급화되면서 수익을 얻기 힘들어져 일반 패시브 인덱스 펀드보다 못한 경우가 많아지고 있다. 그러나 퀀트가 찾아낸 패턴이나 분석들이 허구라는 것을 의미하진 않는다. 다만 그 알파가 비용을 감당할 정도로 틈이 넓지 않기 때문에 적절한 수위의 수익이 나지 않는 것일 뿐이다.
> 

> 2000년대 중반부터 현재에 이르기까지 퀀트 업계는 그야말로 속도 전쟁이었다. 다른 시장 참여자보다 빠른 속도와 낮은 지연시간은 곧 돈이었다. 1등이 모든 수익을 독식하는 구조였다. 2등으로 정보를 얻고 거래에 참여해봤자 불균형은 가장 빠른 알고리즘의 손에 모두 넘어간 뒤였다.
> 

> 이렇게 통신 속도 경쟁은 물리적 한계에 도달하면서 제로를 향한 레이스(Race to zero)라는 이름이 붙여졌다. 결국 이들의 목표는 빛의 속도와 차이가 없는(Zero) 통신인 것이다
> 

> 그들은 FPGA(Field Programmable Gate Array)라는 칩을 도입했다. FPGA는 설계와 프로그래밍이 가능한 회로이다. 일반적으로 칩은 용량도 작고 유연하지 못해 CPU나 메모리상으로 먼저 이동시킨 뒤에 계산했었다. 그러나 FPGA를 사용함으로써 서버로 데이터를 전송하지 않더라도 통신 회로상에서 바로바로 계산할 수 있게 된 것이다. FPGA는 2011년경부터 월스트리트에서 각광을 받아 많은 회사들이 도입해 데이터 처리 시간을 줄였다. 거래소에서 오는 시세 정보를 해석해서 반응 속도를 높였는데, 이는 소프트웨어상으로 처리하는 것보다 최소 4배, 최대 10배까지 빨라졌다.
> 

> 하드웨어뿐만 아니라 알고리즘 최적화에 능한 소프트웨어 엔지니어들도 대거 채용했다. 구글과 아마존 등에서 소프트웨어 엔지니어들을 공격적으로 데려오고 각종 공대에서 유망한 엔지니어들을 모집했다.
> 

> 속도 경쟁도, 소프트웨어 최적화도 가능한 한 거의 모든 방법으로 이루어지고 있다. 2017년 알고리즘 트레이딩이 전체 시장의 80% 가까이 차지하면서 속도상 우위를 점하기가 점점 더 어려워지고 조금이라도 더 빨라지기 위해서는 천문학적인 돈을 투자해야 하는 단계에 이르렀다. 이제는 새로운 트레이딩 회사들이나 퀀트 펀드들이 새롭게 진입하기는 어려운 구조가 되었다.
> 

> 초단타매매를 중심으로 하는 회사들의 수익성은 급격히 떨어졌다. 도이치은행보고서15)에 의하면 2009년에 7.2조 가까이 하던 초단타매매 수익이 2014년엔 1.3조로 대폭 줄어들었다. 강화된 규제와 정체된 거래량 그리고 무엇보다 치열한 경쟁 때문에 수익성이 떨어진 것이다.
> 

> 2016년 이세돌 9단과 바둑 인공지능 알파고의 대결에서 알파고가 승리하면서 온 세상이 들썩였다. 구글의 주가는 단번에 10% 상승하였고 기업가치를 무려 58조나 상승시키는 효과를 가져왔다. 그동안 먼 훗날 이야기인 줄로만 알았던 인공지능 기술이 눈앞까지 와있다는 것을 실감한 기업들은 앞다투어 인공지능 기술을 모든 문제해결에 도입하고 홍보하였다.
> 

> 인공지능이란 사람의 손을 거치지 않고 판단을 내리며 실행에 옮기는 프로그램을 말한다. 퀀트들은 컴퓨터가 등장한 초창기부터 이러한 인공지능을 이용해 자동으로 증권의 가격을 계산하고 예측하며 거래하였다. 이러한 인공지능의 가장 큰 장점은 감정기복 없이 주어진 로직과 데이터에 의해서만 거래한다는 점이다. 물론 단점도 있었다. 위기 상황에서 유연하게 대처하지 못하였고 인간이 끊임없이 알고리즘을 업데이트시켜주어야만 현재 시장에 맞게 적응할 수 있었다.
> 

> 과학자들은 컴퓨터와 다르게 모든 경우의 수를 계산하지 않고 답이 없는 문제도 쉽게 판단하는 인간의 뇌에 대해 궁금해하기 시작했다.
> 

> 여러 가지 자극과 그에 따른 뇌의 반응을 관찰하며 연구한 끝에 뇌에 있는 세포인 뉴런이 촘촘히 망을 형성해 지적 능력을 가지게 된다는 사실을 밝히게 되었다.
> 

> 금융계, 특히 퀀트 분야는 사실 이런 부분에서 선구자였다. 속도와 지연시간 전쟁에서 한계를 느낀 퀀트들은 새로운 패턴을 찾기 위해 머신러닝을 이용하기 시작했다.
> 

> 초창기 머신러닝 모델을 이용한 퀀트 알고리즘은 한계가 있었다. 인공 신경망을 이용한 머신러닝 기술을 투자에 이용하려다 보니 크게 두 가지 문제가 있었다. 하나는 데이터 편향성 문제이다. 통계적 모델링과 비슷한 문제점인데 애초에 신경망으로 학습한 데이터가 과거 데이터이다 보니 과거 데이터에 맞춰서 학습한 모델을 가지고 미래를 예측하려는 것이다. 이는 과거에 일어나지 않았거나 과거에 지나치게 잘 맞았던 패턴들에 의존한다는 경향이 있다
> 

> 인공 신경망으로 학습된 결과 자체가 어떤 경제적·논리적 인과관계를 가지고 판단하는지 알 수 없다는 치명적인 단점이 있었다. 신경망에 데이터를 입력해서 학습시키면 수많은 뉴런들과 가중치들의 조합들이 나오는데 이것만 이용해서는 어떠한 규칙을 가지고 판단하는지 알 수가 없다.
> 

> 트레이딩은 다르다. 직접적인 투자를 하기 때문에 어떠한 인과관계를 통해서 이러한 패턴으로 판단하고 투자하는지 알지 못하면 커다란 사태로 이어질 수도 있다.
> 

> 다양한 분야에서 머신러닝의 활용도는 무궁무진했기 때문에 퀀트들은 전략 자체를 머신러닝에 의존하기보다 데이터를 가공하거나 새로운 보조 지표를 얻는 것으로 활용했다. 가장 많이 활용하기 시작한 부분은 자연 언어 처리 부분이다.
> 

> 퀀트 펀드들이 머신러닝을 이용한 소셜 네트워크 데이터 기반 트레이딩 알고리즘을 이용한다는 뉴스가 나왔다. 직접적인 알고리즘 공개는 없었지만 자연 언어 처리 및 소셜 네트워크 서비스 전문가를 채용하는 공고들이 하나둘씩 등장하고 있다.
> 

> 인공지능은 찰나의 패턴을 잡는 초단타매매보다는 장기 투자를 하는 헤지펀드나 자산관리 업체에 더 많은 영향을 주었다. 자산관리 업체들은 인공지능이 각 투자자에 맞게 펀드를 설계해주고 자산 분배를 해주는 ‘로보 어드바이저’를 도입하기 시작했다. 로보 어드바이저는 퀀트 트레이더처럼 무조건적인 수익을 내는 방향이 아니라 자산의 효율적인 분배로 각 사람에 맞게 상품을 조합하는 조언의 역할을 하는 것이므로 판단 알고리즘 자체를 자세히 알지 못하더라도 크게 위험하지 않다. 펀드 매니저가 상품을 조합하고 각 사람에 맞는 투자 상품을 추천해주는 일 자체가 자동화되고 있는 것이다.
> 

> 각종 금융회사들은 데이터화할 수 있는 분석 자료를 학습시키기 시작했다. 기존의 시장 정보는 물론 재무제표, 기업 자료 등도 이에 해당된다.
> 

> 제임스메디슨대학의 리처드 웨스트 교수의 논문에 따르면 논리적이고 똑똑한 사람일수록 심리적 편향에 빠지기 쉽다고 한다. 아무리 객관적이고 침착한 투자가라 해도 인간인 이상 심리적 편향에 노출되기 때문에 장기적으로 봤을 때 패배할 수밖에 없는 것이다.
> 

> 이러한 투자 편향을 배제하고 정해진 규칙에 따라 거래하고 위험 관리 하는 알고리즘을 만든 다음 그대로 따른다면 일반인도 충분히 퀀트 투자로 수익을 낼 수 있다.
> 

> 논문이나 블로그 등에서 공개된 퀀트 알고리즘이 많은데도 개인 투자자들이 실패하는 이유는 뭘까? 이는 자신이 정립한 규칙대로 끝까지 믿고 따르기 힘들기 때문이다.
> 

> 좋은 대학에 가는 방법은 꾸준한 공부, 체중을 감량하는 방법은 적절한 운동과 식이요법이라는 것을 알지만 대부분이 실패하듯이 자신이 세운 알고리즘대로 꾸준히 투자하면 수익을 얻는다는 것을 알더라도 단기적으로 투자금을 계속 잃거나 과도한 수익이 나기 시작하면 이성이 흔들릴 수밖에 없다.
> 

> 최초의 퀀트였던 에드 소프도 카지노에서 수익이 나기 시작하자 캘리 공식을 어기고 베팅하다가 돈을 잃지 않았는가.
> 

> 당신도 퀀트가 되어야 한다
> 

> 실제로 주문 집행을 위주로 시장미시구조에서 불균형을 찾아서 거래하는 알고리즘 트레이딩이나 초단타매매 분야 같은 경우에는 고성능 컴퓨터, 최첨단 네트워크 장비, 그리고 방대한 시장구조 데이터 없이는 상대할 수 없는 부분이다. 그렇다면 개인 투자자들은 수익을 얻을 방법이 전혀 없는 것일까? 그렇지 않다. 앞서 설명한 바와 같이 ‘트레이딩’ 영역은 점점 고도화되고 심화된 경쟁 끝에 시장에서 불균형이 생기는 즉시 순식간에 모두 사라지고 있다. 그러나 기업의 가치 상승에 베팅하는 ‘투자’ 영역은 여전히 미지의 분야이자 모두가 공생하는 부분이다. 이러한 투자를 완벽하게 하는 인공지능은 아직 존재하지 않을뿐더러 앞으로도 여러 가지 제약 조건과 상황별 차이 때문에 탄생하기 힘들다.
> 

> 로보 어드바이저, 인공지능 금융 분석 솔루션 등 모두 투자를 돕기 위한 것들일 뿐이다.
> 

> 결국 단기적인 움직임과 불균형을 찾아서 거래하는 데이 트레이더들은 알고리즘들에 의해 몰락할 것이다. 그러나 기업의 가치를 읽고 장기적으로 투자하는 개인 투자가들은 여전히 힘을 가질 것이며 나아가 더 강력해질 것이다
> 

> 이제 일반인도 이러한 수많은 데이터에서 의미를 찾아서 투자를 하는 사람, 즉 퀀트가 되어야 한다. 이는 앞서 말한 위대한 수학자나 물리학자처럼 대단한 수학 공식을 알아야 한다는 것도 아니고, 편미분 방정식을 이용한 물리학으로 주가의 움직임을 예측하라는 뜻이 아니다. 이제는 일반인도 쉽게 사용할 수 있는 데이터 분석 툴도 나오고 있고 로보 어드바이저 등의 형태로 가공되어서 조언해주는 솔루션도 나오고 있다. 무엇을 이용하든 데이터를 기반으로 자신만의 투자 알고리즘을 만들어 투자하지 않으면 성공하기 힘든 시대에 있다는 것은 자명한 사실이다.
> 

> 데이터를 읽고 의미 있는 결과로 바꾸는 것이 워드 프로세서 능력만큼 대중화되고 필수적인 능력이 될 것이다. 인공지능의 시대에서 무조건 인공지능이 모든 것을 지배하는 게 아니다. 인공지능이라는 것은 학습과 데이터를 기반으로 하며 이 모든 것들은 데이터 과학자가 어떤 선생님이 되냐에 따라서 천차만별인 결과를 가져온다.
> 

> 데이터 과학에 대한 공부와 솔루션에 대한 이해는 선택이 아닌 필수가 되었다. 통계와 수학을 모르더라도 데이터들이 어떠한 관계를 가지는지에 대한 안목을 지니고 있어야 한다.
> 

> 방송은 방송국에서만 할 수 있고 음악은 뮤지션만 할 수 있는 시대는 지났다. 이제는 누구나 인터넷 방송과 유튜브를 통해 아티스트가 되고 평론가가 될 수 있다. 마찬가지로 퀀트라는 직업은 사라질 것이고 누구나 퀀트가 되어야 하는 시대가 올 것이다.
>