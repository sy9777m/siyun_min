<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Siyun Min">
<meta name="dcterms.date" content="2023-01-03">

<title>Siyun Min - Inventories</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Siyun Min</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">Siyun Min</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/sy9777m"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/kevinmin77/"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Inventories</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">USCPA</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Siyun Min </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 3, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="inventories" class="level1">
<h1>Inventories</h1>
<p>created: December 29, 2022 7:45 AM last updated: January 3, 2023 2:38 PM 📨 Project: https://www.notion.so/Accounting-Principle-c73580d5e8f947a0bc5a546b601e7239</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
</section>
<section id="inventories-1" class="level1">
<h1>Inventories</h1>
<p>기업의 정상적인 영업활동을 수행하는 과정에서 판매 목적으로 보유하고 있는 자산</p>
<p>They are in ready for sale to customers in the ordinary course of business.</p>
<section id="inventories-종류" class="level2">
<h2 class="anchored" data-anchor-id="inventories-종류">Inventories 종류</h2>
<p>Merchandiser’s inventories - Merchandises (상품)</p>
<p>Manufacturer’s inventories - Finished goods (제품), work in process (재공품), raw material (원재료)</p>
</section>
<section id="inventory-회계처리의-특징---수량결정-단가결정" class="level2">
<h2 class="anchored" data-anchor-id="inventory-회계처리의-특징---수량결정-단가결정">Inventory 회계처리의 특징 - 수량결정, 단가결정</h2>
<p>수량결정 - taking a physical inventory &amp; determining ownership of goods</p>
<ul>
<li>perpetual inventory system &amp; periodic inventory system</li>
</ul>
<p>단가결정 - using cost flow assumptions</p>
</section>
<section id="acquisition-costs" class="level2">
<h2 class="anchored" data-anchor-id="acquisition-costs">Acquisition costs</h2>
<p>The acquisition cost of inventories includes all other costs incurred to getting the inventories ready for sale.</p>
<p><span class="math display">\[
\text{Acquisition cost} = \text{direct purchase price} + \text{freight in} + \text{sales tax} + \text{packing costs} + \text{insurance cost in transit} - \text{purchase returns}
\]</span></p>
</section>
<section id="determining-ownership-of-goods" class="level2">
<h2 class="anchored" data-anchor-id="determining-ownership-of-goods">Determining ownership of goods</h2>
<section id="goods-in-transit-미착상품" class="level3">
<h3 class="anchored" data-anchor-id="goods-in-transit-미착상품">Goods in transit (미착상품)</h3>
<p>Legal title is determined by the terms of the sale.</p>
<ul>
<li>FOB (free on board) shipping point - 재화가 선적되었을 때 소유권이 buyer에게 이전되며 <code>운반중인 상태에서는 buyer의 재고자산에 포함된다</code>.</li>
<li>FOB destination - 재화가 buyer에게 도달할 때까지 소유권은 여전히 seller에게 있으므로 <code>운반중인 상태의 재고자산은 seller의 재고자산에 포함한다</code>.</li>
</ul>
</section>
<section id="consigned-goods-적송품" class="level3">
<h3 class="anchored" data-anchor-id="consigned-goods-적송품">consigned goods (적송품)</h3>
<p>Goods held for sale by consignee (agent) although ownership of the goods is retained by consigner (true owner). <code>The consignor should include the consigned goods in its inventory</code>.</p>
<p>적송품은 수탁자가 최종소비자에게 판매하기 전까지는 수탁자가 보관하여도 위탁자의 소유이며 수탁자가 최종소비자에게 판매하였을 때 위탁자가 수익을 인식한다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 3.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
<p>기말 재고자산의 증가 → 매출원가의 감소 → 당기순이익의 증가</p>
<ul>
<li><code>기말재고자산이 증가(감소)한 금액만큼 최종적으로 당기순이익이 동일한 금액만큼 증가(감소)</code>하므로 재고자산의 증감은 당기손익의 결정에 중요한 요소이다.</li>
</ul>
</section>
</section>
</section>
<section id="cost-flow-assumption" class="level1">
<h1>Cost flow assumption</h1>
<p>실제물량 흐름과 관계없이</p>
<ol type="1">
<li>구입시점마다 inventory의 unit cost가 다르다</li>
<li>단위 당 sales price는 동일</li>
<li>실제 판매와 무관</li>
</ol>
<p>재고자산의 구입시점마다 unit cost가 서로 다른 재고 매입의 경우에는 어느 시점에 구입한 재고가 판매되었는지를 결정해야 판매된 매출원가와 남아있는 기말재고 및 당기순이익이 결정되므로 재고자산의 단가 결정은 손익결정에 중요한 요소이다.</p>
<section id="specific-identification-method-개별법" class="level2">
<h2 class="anchored" data-anchor-id="specific-identification-method-개별법">specific identification method (개별법)</h2>
<p>개별법은 재고자산에 가격표 (price tag)를 붙여서 관리하며 서로 다른 매입시점에 서로 다른 매입원가를 개별적으로 구분 및 파악하여 실제 판매된 것과 기말에 남아 있는 것으로 재고자산금액을 결정하는 방법으로 이론적으로 가장 이상적인 방법이다.</p>
<p>The cost flow exactly matches the physical flow of the goods.</p>
<p>Ideal method - actual cost matches against actual revenue.</p>
<p>상호 교환 가능한 재고자산은 개별법을 적용하면 이익조작가능성이 있다.</p>
<ul>
<li>allows company to manipulate net income.</li>
</ul>
</section>
<section id="first-in-first-out-fifo-method-선입선출법" class="level2">
<h2 class="anchored" data-anchor-id="first-in-first-out-fifo-method-선입선출법">first in-first out (FIFO) method (선입선출법)</h2>
<p>선입선출법이란 실제 물량흐름과 관계없이 먼저 구입한 자산이 먼저 판매되었다고 가정하는 방법으로 실제 당기에 판매한 매출액에 대응되는 매출원가에는 과거에 구입한 재고 자산이 포함되고 기말 재고자산에는 최근에 구입한 재고자산이 포함된다.</p>
<p>The first goods purchased are the first sold. (no-matching)</p>
<p><code>Ending inventory includes the most recent purchase.</code></p>
<ul>
<li>최근 구입재고가 기말재고</li>
</ul>
<p>Ending inventory and cost of goods sold are the same whether a periodic or perpetual inventory system is used.</p>
<p>In a period of rising prices:</p>
<ul>
<li><code>High inventory</code> → low COGS → <code>high net income</code> → high tax, dividend</li>
</ul>
</section>
<section id="last-in-first-out-lifo-method-후입선출법-not-ifrs" class="level2">
<h2 class="anchored" data-anchor-id="last-in-first-out-lifo-method-후입선출법-not-ifrs">last in-first out (LIFO) method (후입선출법) → not IFRS</h2>
<p>후입선출법이란 실제 물량흐름과 관계없이 나중에 구입한 재고가 먼저 판매되었다고 가정하는 방법으로 매출원가에는 최근에 구입한 재고자산이 포함되고 기말재고자산에는 과거에 구입한 자산이 포함되어 있게 된다.</p>
<p>The cost matches the last goods purchased against revenue (<code>matching principle</code>)</p>
<p>Ending inventory includes the oldest costs.</p>
<p>Ending inventory and COGS are different from a periodic with a perpetual inventory system.</p>
<p>In a periods of rising price:</p>
<ul>
<li><code>low inventory</code> → high COGS → <code>low net income</code> → low tax, dividend</li>
</ul>
<p>But, better matches expense against revenue because it matches current costs with current revenue.</p>
<ul>
<li>실제 물량흐름을 제대로 반영하지 못하므로 LIFO method is prohibited under IFRS.</li>
</ul>
</section>
<section id="average-costing-method-평균법" class="level2">
<h2 class="anchored" data-anchor-id="average-costing-method-평균법">average costing method (평균법)</h2>
<p><code>계속기록법 (perpetual system)을 적용한 평균법을 moving average method (이동평균법)이라고 하고 실지재고조사법 (periodic system)을 적용한 평균법을 weighted average method (총평균법)이라 한다.</code> 이동평균법은 판매직전까지 최근 구입한 재고의 평균단가로 산정하여 비교적 최근 구입한 재고의 금액이 기말재고 산정에 고려되며 총평균법은 전체 회계기간 동안 구입한 재고의 평균단가로 기말재고자산이 산정되어 있기 때문에 이동평균법과 일반적으로 기말재고금액이 서로 다르다.</p>
<p>weighted average method = average method + periodic system</p>
<p>moving average method = average method + perpetual system</p>
</section>
<section id="당기순이익-및-현금흐름-크기-비교" class="level2">
<h2 class="anchored" data-anchor-id="당기순이익-및-현금흐름-크기-비교">당기순이익 및 현금흐름 크기 비교</h2>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>기말재고자산, 당기순이익, 법인세납부액 큰 순서</th>
<th>FIFO &gt; MAM &gt; WAM &gt; LIFO</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>매출원가, 순현금흐름 큰 순서</td>
<td>FIFO &lt; MAM &lt; WAM &lt; LIFO</td>
</tr>
</tbody>
</table>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 4.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 5.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 6.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="lower-of-cost-or-market-lcm-저가법" class="level1">
<h1>Lower of cost or market (LCM: 저가법)</h1>
<p>only unrealized holding loss is recognized.</p>
<p>only for inventory</p>
<p>cost method → PPE, intangible</p>
<ul>
<li>unrealized holding gain/loss are not recognized.</li>
</ul>
<p>fair value method → securities</p>
<ul>
<li>unrealized holding gain/loss are recognized.</li>
</ul>
<p>저가법이란 기말 재고자산을 자산으로 측정할 때 원가와 시가 중에서 더 낮은 금액으로 측정하여 표시하는 원칙이다. US GAAP은 자산을 원칙적으로 cost로 평가하지만 재고자산이 진부화 (obsolescence), 파손, 부패 등의 사유로 더 이상 원가가 유지되지 않고 하락하면 LCM으로 평가해야 한다.</p>
<p>LCM은 A departure from the cost basis of accounting.</p>
<p>The lower of cost or market (LCM) → conservatism (보수주의) 사례</p>
<ul>
<li>선택가능한 모든 option 중에 가장 재무적 기초가 튼튼한 option을 택할 것</li>
<li>기말재고자산의 장부금액 = Min(cost, market)
<ul>
<li>LCM을 적용하면 ocst보다 market 금액이 상승해도 더 낮은 cost로 측정해야 하므로 unrealized holding gains(평가이익)은 발생할 수 없으며 cost보다 market 금액이 하락하면 market으로 측정해야 하므로 unrealized holding losses (평가손실)은 발생한다.</li>
<li>cost = FIFO, LIFO, Average method or 취득원가 etc.</li>
</ul></li>
</ul>
<p>market value의 의미</p>
<ul>
<li>FIFO, average method = market 금액은 NRV만 적용</li>
<li>LIFO, retail inventory method = Median[replacement cost, NRV, NRV - normal profit margin]</li>
</ul>
<p><span class="math display">\[
\text{inventory net realizable value (순실현가능가치)} = \text{selling price} - \text{the cost to complete and dispose of the inventory}
\]</span></p>
<ul>
<li>Market 금액은 위 3가지 금액 중에서 중간값</li>
<li>cost of dispose of the inventory = Work in process의 전환비용</li>
</ul>
<p>Conservatism - When in doubt, choose that will be least likely to overstate assets and income.</p>
<ul>
<li>보주수의는 회계원칙이 아니라 회계상의 관행으로 불확실한 상황에서 선택 가능한 가장 여러가지 회계처리 방법이 존재하는 경우 가능한 이익 (기말재고자산)이 가장 낮게 보고하는 방법을 선택하여 재무제표에 표시하는 회계상의 관행</li>
</ul>
<p>Replacement cost (현행대체원가) - 재고자산 측정일에 파악된 the cost to purchase the item of inventory</p>
<p>US GAAP에서는 NRV를 market ceiling이라고 하며, NRV - normal profit markgin을 market floor라고 한다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 7.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
<section id="assets-measurement-method-자산평가방법" class="level2">
<h2 class="anchored" data-anchor-id="assets-measurement-method-자산평가방법">Assets measurement method (자산평가방법)</h2>
<p>Historical cost (역사적 원가주의) - 자산은 취득시점의 취득원가 (지급한 대가의 공정가치)로 기록한다</p>
<ul>
<li>PPE</li>
</ul>
<p>lower of cost method (저가법) - 기말자산의 평가는 원가와 시가 중에서 낮은 금액으로 평가한다</p>
<ul>
<li>inventory</li>
</ul>
<p>fair value method (공정가치법) - 자산은 기말의 공정가치로 평가하여 평가손익을 인식한다. 공정가치로 평가한다는 것은 평가이익과 평가손실이 발생하는 경우 모두 인정하는 방법이다.</p>
<ul>
<li>securities</li>
</ul>
<p>측정기준</p>
<ul>
<li>replacement cost (현행대체원가) - ex) some inventory</li>
<li>net realizable value (NRV, 순실현가치) - selling price - selling expense
<ul>
<li>ex) A/R</li>
</ul></li>
<li>present value (현재가치) - long term receivable/payable</li>
</ul>
</section>
</section>
<section id="inventory-errors" class="level1">
<h1>Inventory errors</h1>
<p>Inventory errors affect both the income statement and the balance sheet.</p>
<section id="income-statement-effects" class="level2">
<h2 class="anchored" data-anchor-id="income-statement-effects">Income statement effects</h2>
<p>Inventory errors affects the computation of COGS and NI in <code>two periods</code>.</p>
<p><code>Over the two years, total NI is correct because the errors offset each other</code>.</p>
<ul>
<li>counter balancing error</li>
</ul>
<p>20x1 ending inventory = 20x2 beginning inventory</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 8.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>inventory error</th>
<th>COGS</th>
<th>NI</th>
<th>equity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>understate (overstate) BI</td>
<td>understate (overstate)</td>
<td>overstate (understate)</td>
<td>overstate</td>
</tr>
<tr class="even">
<td>understate (overstate) EI</td>
<td>overstate (understate)</td>
<td>understate (overstate)</td>
<td>understate</td>
</tr>
</tbody>
</table>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 9.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>
</section>
<section id="statement-present-and-analysis" class="level2">
<h2 class="anchored" data-anchor-id="statement-present-and-analysis">Statement present and analysis</h2>
<section id="disclosure-사항" class="level3">
<h3 class="anchored" data-anchor-id="disclosure-사항">Disclosure 사항</h3>
<ul>
<li>major inventory classifications (merchandise, FG, WIP, RM etc)</li>
<li>the basis of accounting (평가방법 - Cost, LCM)</li>
<li>the costing method (FIFO, LIFO, or average)</li>
</ul>
</section>
<section id="analysis-activity-ratios" class="level3">
<h3 class="anchored" data-anchor-id="analysis-activity-ratios">Analysis: activity ratios</h3>
<p>Inventory turnover ratio (재고자산회전율)</p>
<ul>
<li>how many times a company turn over (sells) its inventory during a period and how quickly inventory is sold is an indicator of enterprise performance.</li>
</ul>
<p><span class="math display">\[
\text{Inventory turnover ratio} = \frac{\text{cost of goods sold}}{\text{average inventory}}
\]</span></p>
<p><span class="math display">\[
\text{A/R turnover} = \frac{\text{sales revenue}}{\text{Average A/R}}, \text{A/P turnover} = \frac{\text{sales revenue}}{\text{Average A/P}}
\]</span></p>
<p>Days in inventory (inventory turnover in days, 재고자산회전기간)</p>
<ul>
<li>재고자산을 구입/제조하여 판매할 때까지 소요되는 기간</li>
<li>the number of days one can sell from inventory if no new items are purchased. The average number of days required to sell inventory and inventory is held.</li>
</ul>
<p><span class="math display">\[
\text{Days in inventory} = \frac{\text{365 days}}{\text{inventory turnover ratio}}
\]</span></p>
<p><span class="math display">\[
\text{Operating cycle} = \text{A/R turnover in days} + \text{Inventory turnover in days}
\]</span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Untitled 10.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Untitled</figcaption><p></p>
</figure>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>